import telebot
from utils import extract_signal_info

# Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ø¨ÙˆØª
TOKEN = "7588547164:AAFQrn_kEONb5oG2uNOOf0Cum31Am-rMlEY"
bot = telebot.TeleBot(TOKEN)

@bot.message_handler(func=lambda message: True)
def handle_message(message):
    text = message.text
    info = extract_signal_info(text)

    reply = "ğŸ“® ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙˆØµÙŠØ©:\n"
    reply += f"ğŸ“ Ø§Ù„Ù†ÙˆØ¹: {info['type'] or 'â“'}\n"
    reply += f"ğŸ¯ Ø§Ù„Ø³ØªØ±Ø§ÙŠÙƒ: {info['strike'] or 'â“'}\n"
    reply += f"ğŸ’° Ø§Ù„Ø³Ø¹Ø±: {info['price'] or 'â“'}\n"
    reply += f"âš ï¸ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø®Ø·ÙˆØ±Ø©: {info['risk_level'] or 'â“'}"

    bot.reply_to(message, reply)

print("âœ… Ø§Ù„Ø¨ÙˆØª ÙŠØ¹Ù…Ù„ Ø§Ù„Ø¢Ù† ...")
bot.polling()